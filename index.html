<!DOCTYPE html>
<html>

<head>
	<title>My Page Title</title>
	<link rel="shortcut-icon" type="image/x-icon" href="favicon.ico">
	<script src="script.js" type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="style.css">
	</link>
	<script>
		var id = 0;
		// Why do i have to write a script here in html doc and it doesnt load the fucntion
		// defined in the src script???
		function deleteTask(id) {
			document.getElementById(id).remove();
			return;
		}

		function addTask() {



			/*
			// alert("caling addtask")
			let new_task_input = document.getElementById("new_task_input").value;
			// alert(new_task_input);
			let newTask = `<h2 id=${id}> <p>Task number ${id}: ${new_task_input} 
		<button class="deleteButt" 
		onClick="{deleteTask(${id})}"
		>
		Delete this task
		</button>
		</p> 
		</h2>`;
			id += 1;

			document.getElementById("tasks_div").innerHTML += newTask;
			return;


			*/
		}

		function loadJSONtasks() {
			/*
			import { tasks } from "tasks.json";
			*/


			var tasks = [];
			fetch("/tasks.json")
				.then(response => response.json())
				.then(json => { json["tasks"].map(task => tasks.push(task)) })
			// .catch(error => {
			// 	/* Error handling */
			// 	console.log(error)
			// });

			console.dir("tasks:", tasks);
			return tasks;
		}
		console.dir(loadJSONtasks());

	</script>
</head>

<body>
	<main>

		<section>
			<h1>
				To Do App
			</h1>

			<div id="tasks_div" class="app">




				<div id="new_task_div">

					<input type="text" id="new_task_input">

					<!--  
						<button id="addNewTask" onclick="addTask()">

						Add task!
					</button> 
				-->
					<a href="newTask.html">
						<input type="button" value="Add task" />
					</a>


				</div>

			</div>
		</section>

	</main>
</body>

</html>