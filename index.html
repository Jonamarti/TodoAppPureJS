<!DOCTYPE html>
<html>

<head>
	<title>To Do App</title>

	<!-- Meta-->
	<meta charset="UTF-8">
	<meta name="description" content="To Do App in vanilla Javascript">
	<meta name="keywords" content="HTML, CSS, JavaScript">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="script.js" type="text/javascript"></script>

	<!-- Links -->
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

	<link rel="stylesheet" type="text/css" href="./styles/light.css">

	<noscript>This page needs JavaScript enabled to work</noscript>

</head>

<body>

	<!-- Sidebar -->
	<div class="sidebar" style="display:none;z-index:5" id="mySidebar">
		<div>
			<button class="w3-bar-item w3-button w3-xxlarge" onclick="sidebar_close()">Close &times;</button>

			<button onclick="parseToDownload()"> Download tasks </button>

			<button id="openAddNewTaskButton" onclick="document.getElementById('addTaskDiv').style.display='block'"> Add
				new task </button>
			
		</div>
	</div>


	<!-- Page content-->
	<main>

		<button class="w3-button w3-white w3-xxlarge" id="sideBut" onclick="sidebar_open()">
			â˜°
		</button>

		<div class="overlay" onclick="sidebar_close()" id="myOverlay"></div>

		<section>
			<h1>
				To Do App
			</h1>

			<div id="tasks_div" class="app">

				<div id="new_task_div">

				</div>
			</div>
		</section>

		<div id="loadTasksDiv">
			It seems you have no tasks loaded. Please select a file to load from.
			<input type="file" id="loadTasksInput"
				onchange="tolocalStorageJSONtasks();a = displayJSONtasks(); if(a){document.getElementById('loadTasksDiv').style.display='none'}"
				accept=".json"
			>
		</div>

		<div id="addTaskDiv">

			<form action="index.html" name="newTaskForm"
				onsubmit="{console.log('adding');event.preventDefault();addTask()}">
				<fieldset>
					<legend> Task info</legend>
					<label>Task name</label>
					<input id="Task_title" name="TaskTitle" type="text" placeholder="Task name">
					</input>

					<label>Task initial date</label>
					<input id="Task_init_date" name="TaskInitDate" type="datetime-local" min="2022-01-07T00:00">

					<label>Task end date</label>
					<input id="Task_end_date" name="TaskEndDate" type="datetime-local" min="2018-06-07T00:00">

					<label>Description</label>

					<textarea name="description" id="Task_description"></textarea>

					<label>Tags</label>
					<input id="Task_tags" name="Tags" type="text" placeholder="Task tags">

					<div style="display:flex; flex-direction:row">
						<input type="submit" value="Add" style="background:lightgreen; color:black">
						<input type="reset" value="Reset" style="background:orangered; color:white">
					</div>
				</fieldset>


			</form>
			<button class="closeFormButt" onclick="document.getElementById('addTaskDiv').style.display='none'">X</button>

		</div>

		<div id="updateTaskDiv">
			<form action="index.html" id="updateTaskForm" data-id=""
				onsubmit="{event.preventDefault();updateTask(this.getAttribute('data-id'))}">
				<fieldset>
					<legend> Task info</legend>
					<label>Task name</label>

					<input id="update_Task_title" name="TaskTitle" type="text" placeholder="" required>
					</input>

					<label>Task initial date</label>
					<input id="update_Task_init_date" name="TaskInitDate" type="datetime-local" min="2022-01-07T00:00">

					<label>Task end date</label>
					<input id="update_Task_end_date" name="TaskEndDate" type="datetime-local" min="2018-06-07T00:00">


					<label>Description</label>
					
					<textarea name="description" id="update_Task_description" placeholder=""></textarea>

					<label>Tags</label>
					<input id="update_Task_tags" name="Tags" type="text" placeholder="">

					<input type="submit" value="Update">
				</fieldset>

				<button class="closeFormButt" onclick="document.getElementById('updateTaskDiv').style.display='none'">X</button>
			</form>

		</div>

	</main>

</body>

</html>